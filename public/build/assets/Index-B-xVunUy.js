import{j as h,T as $,h as O,k as P,f as g,o as c,a as s,u as o,Z as q,w as b,b as e,l as y,t as k,v as Q,e as V,F as I,m as Z,i as M,c as B,d as N,g as L,N as A}from"./app-hhDuPdHH.js";import{_ as z}from"./AuthenticatedLayout-oNJChgpc.js";import{_ as n,a as u}from"./TextInput-CSQ0HSOC.js";import{_ as r}from"./InputError-CfbCBCLX.js";import{P as D}from"./PrimaryButton-DJo9UChS.js";import{_ as S}from"./Modal-B-YGY0-b.js";import{h as G}from"./moment-C5S46NFB.js";import{_ as w}from"./Editor-C7ntQR5u.js";const H={class:"app-user-list mb-5"},J={class:"card rounded-0"},W={class:"card-datatable table-responsive p-0"},X={class:"p-3"},ee={class:"fs-5 mb-1"},se={class:"d-flex align-items-center justify-content-between"},le=e("i",{class:"bi bi-plus-lg fs-4"},null,-1),te={class:"page-list-table table p-0"},ae=e("thead",{class:"bg-black border-none"},[e("tr",{class:"border-none"},[e("th",{class:"sorting text-white"},"Image"),e("th",{class:"sorting text-white"},"Name"),e("th",{class:"sorting text-white"},"Created At"),e("th",{class:"sorting text-white"},"Action")])],-1),oe=["src"],de={class:"d-flex gap-2 actions"},ie=["onClick"],ne=e("i",{class:"bi bi-pencil-square"},null,-1),re=[ne],me=e("i",{class:"bi bi-trash"},null,-1),ue=e("h2",{class:"mb-4"},"Add new Category",-1),ce={class:"mb-3"},ge={class:"mb-4"},be={class:"category-image"},pe={for:"category-image"},ve=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),_e=e("span",null,"Upload Image",-1),fe={class:"category-image-preview"},he=["src"],we={class:"mb-3"},ye={class:"mb-3"},ke={class:"mb-3"},Ve={class:"mb-3"},Ce={key:0,class:"spinner-border pinner-border-sm",role:"status"},Ue=e("span",{class:"visually-hidden"},"Loading...",-1),xe=[Ue],$e={key:1},Ie={class:"category-add"},Me=e("h2",{class:"mb-4"},"Update Category",-1),Be={class:"mb-3"},Ne={class:"mb-4"},Le={class:"category-image"},Ae={for:"category-edit-image"},De=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),Se=e("span",null,"Upload Image",-1),Ee={class:"category-image-preview"},Re=["src"],Te={class:"mb-3"},je={class:"mb-3"},Ye={class:"mb-3"},Fe={class:"mb-3"},Ke={class:"mb-3"},Oe={class:"mb-3"},Xe={__name:"Index",props:{categories:Array,errors:Array},setup(i){const C=i,v=h(null),p=h(null),_=h(null),m=$({name:null,image:null,slug:null,canonicalurl:null,metatitle:null,metakeyword:null,metadescription:null,description:null}),E=d=>{const t=d.target.files[0];m.image=t,v.value=URL.createObjectURL(t)},R=d=>{const t=d.target.files[0];a.image=t,p.value=URL.createObjectURL(t)},T=()=>{document.getElementById("addCategory").$vb.modal.show()},j=()=>{A.post("/categories",{...m},{onStart:()=>{_.value=!0},onSuccess:()=>{m.reset(),v.value=null,document.getElementById("addCategory").$vb.modal.hide()},onFinish:()=>{_.value=!1}})},a=$({id:null,name:null,image:null,slug:null,canonicalurl:null,metatitle:null,metakeyword:null,metadescription:null,description:null}),Y=d=>{document.getElementById("editCategory").$vb.modal.show(),a.id=d.id,a.name=d.name,a.slug=d.slug,a.canonicalurl=d.canonicalurl,a.metatitle=d.metatitle,a.metakeyword=d.metakeyword,a.metadescription=d.metadescription,a.description=d.description,a.image=d.image,p.value=d.image},F=d=>{A.post(`/update-category/${d}`,{...a},{onSuccess:()=>{a.reset(),p.value=null,document.getElementById("editCategory").$vb.modal.hide()}})},f=h(""),K=O(()=>f.value?C.categories.filter(d=>d.name.toLowerCase().includes(f.value.toLowerCase())):C.categories);return(d,t)=>{const U=P("vb-is");return c(),g(I,null,[s(o(q),{title:"Categories"}),s(z,null,{default:b(()=>{var x;return[e("section",H,[e("div",J,[e("div",W,[e("div",X,[e("p",ee,"Total "+k((x=i.categories)==null?void 0:x.length)+" Categories",1),e("div",se,[y(e("input",{type:"text",class:"p-2 border border-secondary rounded w-100 w-lg-25",placeholder:"Search Category..","onUpdate:modelValue":t[0]||(t[0]=l=>f.value=l)},null,512),[[Q,f.value]]),e("button",{class:"button-primary",onClick:T},[le,V(" Add New Category ")])])]),e("table",te,[ae,e("tbody",null,[(c(!0),g(I,null,Z(K.value,l=>(c(),g("tr",{key:l.id},[e("td",null,[e("img",{src:l==null?void 0:l.image,alt:"",width:"80"},null,8,oe)]),e("td",null,[s(o(M),{href:"/",class:"text-dark"},{default:b(()=>[V(k(l==null?void 0:l.name),1)]),_:2},1024)]),e("td",null,k(o(G)(l==null?void 0:l.created_at).format("DD MMMM YYYY")),1),e("td",null,[e("div",de,[e("button",{onClick:Pe=>Y(l),class:"edit",style:{width:"30px",height:"30px"}},re,8,ie),s(o(M),{href:`/categories/${l.id}`,method:"delete",class:"delete","preserve-scroll":"",style:{width:"30px",height:"30px"}},{default:b(()=>[me]),_:2},1032,["href"])])])]))),128))])])])])]),y((c(),B(S,{id:"addCategory"},{default:b(()=>[e("div",null,[ue,e("form",{onSubmit:N(j,["prevent"])},[e("div",ce,[s(n,{for:"name",value:"Category Name",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(m).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(m).name=l)},null,8,["modelValue"]),s(r,{message:i.errors.name},null,8,["message"])]),e("div",ge,[s(n,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",be,[e("label",pe,[ve,_e,s(u,{type:"file",id:"category-image",onChange:E})]),e("div",fe,[v.value?(c(),g("img",{key:0,src:v.value},null,8,he)):L("",!0)])]),s(r,{message:i.errors.image},null,8,["message"])]),e("div",we,[s(n,{for:"description",value:"Category Description",class:"d-block mb-2"}),s(w,{modelValue:o(a).description,"onUpdate:modelValue":t[2]||(t[2]=l=>o(a).description=l)},null,8,["modelValue"]),s(r,{message:i.errors.description},null,8,["message"])]),e("div",ye,[s(n,{for:"metatitle",value:"Brand Meta Title",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(m).metatitle,"onUpdate:modelValue":t[3]||(t[3]=l=>o(m).metatitle=l)},null,8,["modelValue"]),s(r,{message:i.errors.metatitle},null,8,["message"])]),e("div",ke,[s(n,{for:"metakeyword",value:"Brand Meta Keyword",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(m).metakeyword,"onUpdate:modelValue":t[4]||(t[4]=l=>o(m).metakeyword=l)},null,8,["modelValue"]),s(r,{message:i.errors.metakeyword},null,8,["message"])]),e("div",Ve,[s(n,{for:"metadescription",value:"Category Meta Description",class:"d-block mb-2"}),s(w,{modelValue:o(a).metadescription,"onUpdate:modelValue":t[5]||(t[5]=l=>o(a).metadescription=l)},null,8,["modelValue"]),s(r,{message:i.errors.metadescription},null,8,["message"])]),s(D,{type:"submit",class:"w-100",disabled:_.value},{default:b(()=>[_.value?(c(),g("div",Ce,xe)):(c(),g("span",$e,"Add Category"))]),_:1},8,["disabled"])],32)])]),_:1})),[[U,void 0,"modal"]]),y((c(),B(S,{id:"editCategory"},{default:b(()=>[e("div",Ie,[Me,e("form",{onSubmit:t[13]||(t[13]=N(l=>F(o(a).id),["prevent"]))},[e("div",Be,[s(n,{for:"name",value:"Category Name",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(a).name,"onUpdate:modelValue":t[6]||(t[6]=l=>o(a).name=l)},null,8,["modelValue"]),s(r,{message:i.errors.name},null,8,["message"])]),e("div",Ne,[s(n,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",Le,[e("label",Ae,[De,Se,s(u,{type:"file",id:"category-edit-image",onChange:R})]),e("div",Ee,[p.value?(c(),g("img",{key:0,src:p.value,alt:""},null,8,Re)):L("",!0)])]),s(r,{message:i.errors.image},null,8,["message"])]),e("div",Te,[s(n,{for:"slug",value:"Category URL",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(a).slug,"onUpdate:modelValue":t[7]||(t[7]=l=>o(a).slug=l)},null,8,["modelValue"]),s(r,{message:i.errors.slug},null,8,["message"])]),e("div",je,[s(n,{for:"canonicalurl",value:"Canonical URL",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(a).canonicalurl,"onUpdate:modelValue":t[8]||(t[8]=l=>o(a).canonicalurl=l)},null,8,["modelValue"]),s(r,{message:i.errors.canonicalurl},null,8,["message"])]),e("div",Ye,[s(n,{for:"description",value:"Category Description",class:"d-block mb-2"}),s(w,{modelValue:o(a).description,"onUpdate:modelValue":t[9]||(t[9]=l=>o(a).description=l)},null,8,["modelValue"]),s(r,{message:i.errors.description},null,8,["message"])]),e("div",Fe,[s(n,{for:"metatitle",value:"Category Meta Title",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(a).metatitle,"onUpdate:modelValue":t[10]||(t[10]=l=>o(a).metatitle=l)},null,8,["modelValue"]),s(r,{message:i.errors.metatitle},null,8,["message"])]),e("div",Ke,[s(n,{for:"metakeyword",value:"Category Meta Keyword",class:"d-block mb-2"}),s(u,{class:"bt-border-color w-100 p-2",modelValue:o(a).metakeyword,"onUpdate:modelValue":t[11]||(t[11]=l=>o(a).metakeyword=l)},null,8,["modelValue"]),s(r,{message:i.errors.metakeyword},null,8,["message"])]),e("div",Oe,[s(n,{for:"metadescription",value:"Category Meta Description",class:"d-block mb-2"}),s(w,{modelValue:o(a).metadescription,"onUpdate:modelValue":t[12]||(t[12]=l=>o(a).metadescription=l)},null,8,["modelValue"]),s(r,{message:i.errors.metadescription},null,8,["message"])]),s(D,{type:"submit",class:"w-100",disabled:o(m).processing},{default:b(()=>[V("Update Category")]),_:1},8,["disabled"])],32)])]),_:1})),[[U,void 0,"modal"]])]}),_:1})],64)}}};export{Xe as default};
