import{j as S,T as k,k as M,f as g,o as c,a as t,l as x,u as a,Z as R,w as u,b as e,t as v,e as p,F as V,m as T,i as $,c as U,d as A,g as I,N}from"./app-hhDuPdHH.js";import{_ as Y}from"./AuthenticatedLayout-oNJChgpc.js";import{_ as b,a as h}from"./TextInput-CSQ0HSOC.js";import{P as B}from"./PrimaryButton-DJo9UChS.js";import{_ as f}from"./InputError-CfbCBCLX.js";import{_ as C}from"./Modal-B-YGY0-b.js";import{h as F}from"./moment-C5S46NFB.js";const O={class:"app-user-list mb-5"},P={class:"card rounded-0"},q={class:"card-datatable table-responsive p-0"},Z={class:"p-3"},z={class:"fs-5 mb-1"},G=e("i",{class:"bi bi-plus-lg fs-4"},null,-1),H={class:"page-list-table table p-0"},J=e("thead",{class:"bg-black border-none"},[e("tr",{class:"border-none"},[e("th",{class:"sorting text-white"},"Image"),e("th",{class:"sorting text-white"},"url"),e("th",{class:"sorting text-white"},"Order Number"),e("th",{class:"sorting text-white"},"Created At"),e("th",{class:"sorting text-white"},"Action")])],-1),K=["src"],Q={class:"d-flex gap-2 actions"},W=["onClick"],X=e("i",{class:"bi bi-pencil-square"},null,-1),ee=[X],te=e("i",{class:"bi bi-trash"},null,-1),se=e("h2",{class:"mb-4"},"Add new Slider",-1),le={class:"mb-3"},ae={class:"mb-3 d-flex align-items-center justify-content-between"},oe={class:"category-image"},ne={for:"category-image"},de=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),ie=e("span",null,"Upload Slider Image",-1),re={class:"py-3"},ce=["src"],ue={class:"category-add"},me=e("h2",{class:"mb-4"},"Update Slider",-1),_e={class:"mb-3 d-none"},ge={class:"mb-4"},be={class:"category-image"},he={for:"category-image"},fe=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),ve=e("span",null,"Upload Image",-1),pe={class:"category-image-preview"},we=["src"],Ie={__name:"Index",props:{sliders:Array,errors:Array},setup(r){const m=S(null),_=S(null),o=k({url:null,sort:null,alttag:null,image:null}),w=d=>{const l=d.target.files[0];o.image=l,n.image=l,m.value=URL.createObjectURL(l),_.value=URL.createObjectURL(l)},j=()=>{document.getElementById("addSlider").$vb.modal.show()};function D(){N.post("/slider",{...o},{onSuccess:()=>{o.reset(),m.value=null,document.getElementById("addSlider").$vb.modal.hide()}})}const n=k({id:null,url:null,image:null}),E=d=>{document.getElementById("editSlider").$vb.modal.show(),n.id=d.id,n.url=d.name,n.image=d.image,_.value=d.image},L=d=>{m.value=null,_.value=null,N.post(`/update-brand/${d}`,n),n.reset(),document.getElementById("editSlider").$vb.modal.hide()};return(d,l)=>{const y=M("vb-is");return c(),g(V,null,[t(a(R),{title:"Slider"}),t(Y,null,{default:u(()=>{var i;return[e("section",O,[e("div",P,[e("div",q,[e("div",Z,[e("p",z,"Total "+v((i=r.sliders)==null?void 0:i.length)+" Sliders",1),e("div",{class:"d-flex align-items-center justify-content-end"},[e("button",{class:"button-primary",onClick:j},[G,p(" Add New Slider ")])])]),e("table",H,[J,e("tbody",null,[(c(!0),g(V,null,T(r.sliders,s=>(c(),g("tr",{key:s==null?void 0:s.id},[e("td",null,[e("img",{src:s==null?void 0:s.image,alt:"",width:"80"},null,8,K)]),e("td",null,[t(a($),{href:"/",class:"text-dark"},{default:u(()=>[p(v(s==null?void 0:s.url),1)]),_:2},1024)]),e("td",null,v(s==null?void 0:s.sort),1),e("td",null,v(a(F)(s==null?void 0:s.created_at).format("DD MMMM YYYY")),1),e("td",null,[e("div",Q,[e("button",{onClick:ye=>E(s),class:"edit",style:{width:"30px",height:"30px"}},ee,8,W),t(a($),{href:`/slider/${s==null?void 0:s.id}`,method:"delete",class:"delete","preserve-scroll":"",style:{width:"30px",height:"30px"}},{default:u(()=>[te]),_:2},1032,["href"])])])]))),128))])])])])])]}),_:1}),x((c(),U(C,{id:"addSlider"},{default:u(()=>[e("div",null,[se,e("form",{onSubmit:A(D,["prevent"])},[e("div",le,[t(b,{for:"name",value:"Slider Url",class:"d-block mb-2"}),t(h,{class:"bt-border-color w-100 p-2",modelValue:a(o).url,"onUpdate:modelValue":l[0]||(l[0]=i=>a(o).url=i)},null,8,["modelValue"]),t(f,{message:r.errors.url},null,8,["message"])]),e("div",ae,[e("div",null,[t(b,{for:"sort",value:"Slider Sort Number",class:"d-block mb-2"}),t(h,{class:"bt-border-color w-25 p-2",modelValue:a(o).sort,"onUpdate:modelValue":l[1]||(l[1]=i=>a(o).sort=i)},null,8,["modelValue"]),t(f,{message:r.errors.sort},null,8,["message"])]),e("div",null,[t(b,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",oe,[e("label",ne,[de,ie,t(h,{type:"file",id:"category-image",onChange:w})])]),t(f,{message:r.errors.image},null,8,["message"])])]),e("div",re,[m.value?(c(),g("img",{key:0,src:m.value,class:"w-full h-auto"},null,8,ce)):I("",!0)]),t(B,{type:"submit",class:"w-100",disabled:a(o).processing},{default:u(()=>[p("Add Slider")]),_:1},8,["disabled"])],32)])]),_:1})),[[y,void 0,"modal"]]),x((c(),U(C,{id:"editSlider"},{default:u(()=>[e("div",ue,[me,e("form",{onSubmit:l[3]||(l[3]=A(i=>L(a(n).id),["prevent"]))},[e("div",_e,[t(b,{for:"alttag",value:"Alt Tag",class:"d-block mb-2 d-none"}),t(h,{class:"bt-border-color w-100 p-2 d-none",modelValue:a(n).name,"onUpdate:modelValue":l[2]||(l[2]=i=>a(n).name=i)},null,8,["modelValue"]),t(f,{message:r.errors.name},null,8,["message"])]),e("div",ge,[t(b,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",be,[e("label",he,[fe,ve,t(h,{type:"file",id:"slider-image",onChange:w})]),e("div",pe,[_.value?(c(),g("img",{key:0,src:_.value,alt:""},null,8,we)):I("",!0)])]),t(f,{message:r.errors.image},null,8,["message"])]),t(B,{type:"submit",class:"w-100",disabled:a(o).processing},{default:u(()=>[p("Submit Slider")]),_:1},8,["disabled"])],32)])]),_:1})),[[y,void 0,"modal"]])],64)}}};export{Ie as default};
