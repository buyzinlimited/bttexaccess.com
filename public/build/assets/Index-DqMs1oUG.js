import{j as x,T as U,k as Y,f as v,o as m,a as s,l as V,u as o,Z as T,w as b,b as e,t as w,e as A,F as $,m as P,i as N,c as I,d as B,g as C,N as j}from"./app-hhDuPdHH.js";import{_ as q}from"./AuthenticatedLayout-oNJChgpc.js";import{_,a as g}from"./TextInput-CSQ0HSOC.js";import{P as S}from"./PrimaryButton-DJo9UChS.js";import{_ as h}from"./InputError-CfbCBCLX.js";import{_ as D}from"./Modal-B-YGY0-b.js";import{h as Z}from"./moment-C5S46NFB.js";const z={class:"app-user-list mb-5"},G={class:"card rounded-0"},H={class:"card-datatable table-responsive p-0"},J={class:"p-3"},K={class:"fs-5 mb-1"},Q=e("i",{class:"bi bi-plus-lg fs-4"},null,-1),W={class:"page-list-table table p-0"},X=e("thead",{class:"bg-black border-none"},[e("tr",{class:"border-none"},[e("th",{class:"sorting text-white"},"Image"),e("th",{class:"sorting text-white"},"url"),e("th",{class:"sorting text-white"},"Order Number"),e("th",{class:"sorting text-white"},"Created At"),e("th",{class:"sorting text-white"},"Action")])],-1),ee=["src"],se={class:"d-flex gap-2 actions"},te=["onClick"],le=e("i",{class:"bi bi-pencil-square"},null,-1),oe=[le],ae=e("i",{class:"bi bi-trash"},null,-1),de=e("h2",{class:"mb-4"},"Add new Advertise",-1),ie={class:"mb-3"},ne={class:"mb-3 d-flex align-items-center justify-content-between"},re={class:"category-image"},ce={for:"category-image"},ue=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),me=e("span",null,"Upload Advertise Image",-1),be={class:"py-3"},_e=["src"],ge={class:"category-add"},he=e("h2",{class:"mb-4"},"Update Advertise",-1),fe={class:"mb-3"},ve={class:"mb-3 d-flex align-items-center justify-content-between"},pe={class:"category-image"},we={for:"update-addvertise-image"},Ae=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),ye=e("span",null,"Upload Advertise Image",-1),ke={class:"py-3"},xe=["src"],je={__name:"Index",props:{advertises:Array,errors:Object},setup(n){const p=x(null),f=x(null),r=U({url:null,sort:null,image:null}),E=a=>{const l=a.target.files[0];r.image=l,p.value=URL.createObjectURL(l)},L=()=>{document.getElementById("addAdvertise").$vb.modal.show()};function M(){j.post("/advertise",{...r},{onSuccess:()=>{r.reset(),p.value=null,document.getElementById("addAdvertise").$vb.modal.hide()}})}const d=U({id:null,url:null,sort:null,image:null}),F=a=>{const l=a.target.files[0];d.image=l,f.value=URL.createObjectURL(l)},O=a=>{document.getElementById("editAdvertise").$vb.modal.show(),d.id=a.id,d.url=a.url,d.sort=a.sort,f.value=a.image},R=a=>{j.post(`/update-advertise/${a}`,d),d.reset(),document.getElementById("editAdvertise").$vb.modal.hide(),f.value=null};return(a,l)=>{const y=Y("vb-is");return m(),v($,null,[s(o(T),{title:"Advertise"}),s(q,null,{default:b(()=>{var c;return[e("section",z,[e("div",G,[e("div",H,[e("div",J,[e("p",K,"Total "+w((c=n.advertises)==null?void 0:c.length)+" Advertises",1),e("div",{class:"d-flex align-items-center justify-content-end"},[e("button",{class:"button-primary",onClick:L},[Q,A(" Add New Advertise ")])])]),e("table",W,[X,e("tbody",null,[(m(!0),v($,null,P(n.advertises,t=>{var u;return m(),v("tr",{key:(u=a.slider)==null?void 0:u.id},[e("td",null,[e("img",{src:t==null?void 0:t.image,width:"80"},null,8,ee)]),e("td",null,[s(o(N),{href:"/",class:"text-dark"},{default:b(()=>[A(w(t==null?void 0:t.url),1)]),_:2},1024)]),e("td",null,w(t==null?void 0:t.sort),1),e("td",null,w(o(Z)(t==null?void 0:t.created_at).format("DD MMMM YYYY")),1),e("td",null,[e("div",se,[e("button",{onClick:i=>O(t),class:"edit",style:{width:"30px",height:"30px"}},oe,8,te),s(o(N),{href:`/advertise/${t==null?void 0:t.id}`,method:"delete",class:"delete","preserve-scroll":"",style:{width:"30px",height:"30px"}},{default:b(()=>[ae]),_:2},1032,["href"])])])])}),128))])])])])])]}),_:1}),V((m(),I(D,{id:"addAdvertise"},{default:b(()=>{var c,t,u;return[e("div",null,[de,e("form",{onSubmit:B(M,["prevent"])},[e("div",ie,[s(_,{for:"name",value:"Advertise Url",class:"d-block mb-2"}),s(g,{class:"bt-border-color w-100 p-2",modelValue:o(r).url,"onUpdate:modelValue":l[0]||(l[0]=i=>o(r).url=i)},null,8,["modelValue"]),s(h,{message:(c=n.errors)==null?void 0:c.url},null,8,["message"])]),e("div",ne,[e("div",null,[s(_,{for:"sort",value:"Advertise Sort Number",class:"d-block mb-2"}),s(g,{class:"bt-border-color w-25 p-2",modelValue:o(r).sort,"onUpdate:modelValue":l[1]||(l[1]=i=>o(r).sort=i)},null,8,["modelValue"]),s(h,{message:(t=n.errors)==null?void 0:t.sort},null,8,["message"])]),e("div",null,[s(_,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",re,[e("label",ce,[ue,me,s(g,{type:"file",id:"category-image",onChange:E})])]),s(h,{message:(u=n.errors)==null?void 0:u.image},null,8,["message"])])]),e("div",be,[p.value?(m(),v("img",{key:0,src:p.value,class:"w-full h-auto"},null,8,_e)):C("",!0)]),s(S,{type:"submit",class:"w-100",disabled:o(r).processing},{default:b(()=>[A("Add Advertise")]),_:1},8,["disabled"])],32)])]}),_:1})),[[y,void 0,"modal"]]),V((m(),I(D,{id:"editAdvertise"},{default:b(()=>{var c,t,u;return[e("div",ge,[he,e("form",{onSubmit:l[4]||(l[4]=B(i=>{var k;return R((k=o(d))==null?void 0:k.id)},["prevent"]))},[e("div",fe,[s(_,{for:"name",value:"Advertise Url",class:"d-block mb-2"}),s(g,{class:"bt-border-color w-100 p-2",modelValue:o(d).url,"onUpdate:modelValue":l[2]||(l[2]=i=>o(d).url=i)},null,8,["modelValue"]),s(h,{message:(c=n.errors)==null?void 0:c.url},null,8,["message"])]),e("div",ve,[e("div",null,[s(_,{for:"sort",value:"Advertise Sort Number",class:"d-block mb-2"}),s(g,{class:"bt-border-color w-25 p-2",modelValue:o(d).sort,"onUpdate:modelValue":l[3]||(l[3]=i=>o(d).sort=i)},null,8,["modelValue"]),s(h,{message:(t=n.errors)==null?void 0:t.sort},null,8,["message"])]),e("div",null,[s(_,{for:"name",value:"Update Image",class:"d-block mb-2"}),e("div",pe,[e("label",we,[Ae,ye,s(g,{type:"file",id:"update-addvertise-image",onChange:F})])]),s(h,{message:(u=n.errors)==null?void 0:u.image},null,8,["message"])])]),e("div",ke,[f.value?(m(),v("img",{key:0,src:f.value,class:"w-full h-auto"},null,8,xe)):C("",!0)]),s(S,{type:"submit",class:"w-100"},{default:b(()=>[A("Update Advertise")]),_:1})],32)])]}),_:1})),[[y,void 0,"modal"]])],64)}}};export{je as default};
