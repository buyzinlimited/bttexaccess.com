import{j as k,h as g,y as N,f as c,o as u,a as i,u as r,Z as $,w as h,b as e,t as n,l as j,v as A,i as _,e as p,F as w,m as P,n as B}from"./app-hhDuPdHH.js";import{_ as D}from"./AuthenticatedLayout-oNJChgpc.js";import{h as T}from"./moment-C5S46NFB.js";const V={class:"app-user-list mb-5"},Y={class:"card rounded-0"},S={class:"card-datatable table-responsive p-0"},F={class:"p-3"},I={class:"fs-5 mb-1"},q={class:"d-flex align-items-center justify-content-between"},z=e("i",{class:"bi bi-plus-lg fs-4"},null,-1),E={class:"page-list-table table p-0"},Q=e("thead",{class:"bg-black border-none"},[e("tr",{class:"border-none"},[e("th",{class:"sorting text-white"},"Image"),e("th",{class:"sorting text-white"},"Name"),e("th",{class:"sorting text-white"},"Category"),e("th",{class:"sorting text-white"},"Brand"),e("th",{class:"sorting text-white"},"Created At"),e("th",{class:"sorting text-white"},"Action")])],-1),U=["src"],Z={class:"d-flex align-items-center justify-content-end gap-2 actions"},G=e("i",{class:"bi bi-pencil-square"},null,-1),H=e("i",{class:"bi bi-trash"},null,-1),J={class:"p-3 bg-white d-flex align-items-center justify-content-between flex-wrap"},K={class:"d-flex gap-1 flex-wrap"},O=["disabled"],R=["onClick"],W=["disabled"],b=50,se={__name:"Index",props:{products:Array},setup(L){const y=L,o=k(""),a=k(1),d=g(()=>o.value?y.products.filter(s=>{var l,t;return s.title&&s.title.toLowerCase().includes(o.value.toLowerCase())||((l=s.category)==null?void 0:l.name)&&s.category.name.toLowerCase().includes(o.value.toLowerCase())||((t=s.brand)==null?void 0:t.name)&&s.brand.name.toLowerCase().includes(o.value.toLowerCase())}):y.products),M=g(()=>{const s=(a.value-1)*b;return d.value.slice(s,s+b)}),m=g(()=>Math.ceil(d.value.length/b)),v=s=>{s>=1&&s<=m.value&&(a.value=s)};return N(o,()=>{a.value=1}),(s,l)=>(u(),c(w,null,[i(r($),{title:"Products"}),i(D,null,{default:h(()=>[e("section",V,[e("div",Y,[e("div",S,[e("div",F,[e("p",I,"Total "+n(d.value.length)+" products",1),e("div",q,[j(e("input",{type:"text",class:"p-2 border border-secondary rounded w-100 w-lg-25",placeholder:"Search by name, category, or brand...","onUpdate:modelValue":l[0]||(l[0]=t=>o.value=t)},null,512),[[A,o.value]]),i(r(_),{href:"/dashboard/add-product",class:"button-primary"},{default:h(()=>[z,p(" Add New Product ")]),_:1})])]),e("table",E,[Q,e("tbody",null,[(u(!0),c(w,null,P(M.value,t=>{var f,x,C;return u(),c("tr",{key:t.id},[e("td",null,[e("img",{src:(f=t==null?void 0:t.images[0])==null?void 0:f.url,alt:"",width:"80"},null,8,U)]),e("td",null,[i(r(_),{href:"/",class:"text-dark"},{default:h(()=>[p(n(t==null?void 0:t.title.substring(0,20)),1)]),_:2},1024)]),e("td",null,n((x=t==null?void 0:t.category)==null?void 0:x.name),1),e("td",null,n((C=t==null?void 0:t.brand)==null?void 0:C.name),1),e("td",null,n(r(T)(t==null?void 0:t.created_at).format("DD MMMM YYYY")),1),e("td",null,[e("ul",Z,[e("li",null,[i(r(_),{href:`/dashboard/edit-product/${t.slug}`,class:"edit",methods:"get"},{default:h(()=>[G]),_:2},1032,["href"])]),e("li",null,[i(r(_),{href:`/delete-product/${t.id}`,method:"get",class:"delete","preserve-scroll":""},{default:h(()=>[H]),_:2},1032,["href"])])])])])}),128))])]),e("div",J,[e("p",null," Showing "+n((a.value-1)*b+1)+" - "+n(Math.min(a.value*b,d.value.length))+" of "+n(d.value.length)+" products ",1),e("div",K,[e("button",{class:"btn btn-sm btn-secondary",onClick:l[1]||(l[1]=t=>v(a.value-1)),disabled:a.value===1}," « Prev ",8,O),(u(!0),c(w,null,P(m.value,t=>(u(),c("button",{key:t,class:B(["btn btn-sm",t===a.value?"btn-primary":"btn-outline-secondary"]),onClick:f=>v(t)},n(t),11,R))),128)),e("button",{class:"btn btn-sm btn-secondary",onClick:l[2]||(l[2]=t=>v(a.value+1)),disabled:a.value===m.value}," Next » ",8,W)])])])])])]),_:1})],64))}};export{se as default};
