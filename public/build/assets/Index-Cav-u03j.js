import{j as k,T as x,k as R,f as _,o as d,a as s,u as l,Z as Y,w as r,b as e,l as $,t as p,e as g,F as N,m as F,i as U,c as V,d as A,g as I,N as B}from"./app-hhDuPdHH.js";import{_ as T}from"./AuthenticatedLayout-oNJChgpc.js";import{_ as h,a as b}from"./TextInput-CSQ0HSOC.js";import{P as S}from"./PrimaryButton-DJo9UChS.js";import{_ as f}from"./InputError-CfbCBCLX.js";import{_ as j}from"./Modal-B-YGY0-b.js";import{h as O}from"./moment-C5S46NFB.js";const P={class:"app-user-list mb-5"},q={class:"card rounded-0"},Z={class:"card-datatable table-responsive p-0"},z={class:"p-3"},G={class:"fs-5 mb-1"},H=e("input",{type:"text",class:"p-2 border border-secondary rounded w-100 w-lg-25",placeholder:"Search Category.."},null,-1),J=e("i",{class:"bi bi-plus-lg fs-4"},null,-1),K={class:"page-list-table table p-0"},Q=e("thead",{class:"bg-black border-none"},[e("tr",{class:"border-none"},[e("th",{class:"sorting text-white"},"Image"),e("th",{class:"sorting text-white"},"Name"),e("th",{class:"sorting text-white"},"Created At"),e("th",{class:"sorting text-white"},"Action")])],-1),W=["src"],X={class:"d-flex gap-2 actions"},ee=["onClick"],se=e("i",{class:"bi bi-pencil-square"},null,-1),te=[se],ae=e("i",{class:"bi bi-trash"},null,-1),le=e("div",{class:"p-5 bg-white d-flex align-items-center justify-content-between"},[e("p",null,"Showing 10 Clients in 10000")],-1),oe=e("h2",{class:"mb-4"},"Add Client",-1),ie={class:"mb-3"},ne={class:"mb-4"},de={class:"category-image"},re={for:"category-image"},ce=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),me=e("span",null,"Upload Image",-1),ue={class:"category-image-preview"},_e=["src"],ge={class:"category-add"},he=e("h2",{class:"mb-4"},"Update Client",-1),be={class:"mb-3"},fe={class:"mb-4"},pe={class:"category-image"},ve={for:"category-image"},ye=e("i",{class:"bi bi-cloud-arrow-up"},null,-1),we=e("span",null,"Upload Image",-1),Ce={class:"category-image-preview"},ke=["src"],Se={__name:"Index",props:{clients:Array,errors:Array},setup(c){const m=k(null),u=k(null),n=x({name:null,image:null}),v=o=>{const a=o.target.files[0];n.image=a,i.image=a,m.value=URL.createObjectURL(a),u.value=URL.createObjectURL(a)};function D(){document.getElementById("addClient").$vb.modal.show()}function L(){B.post("/clients",{...n}),n.reset(),m.value=null}const i=x({id:null,name:null,image:null}),M=o=>{document.getElementById("editClient").$vb.modal.show(),i.id=o.id,i.name=o.name,i.image=o.image,u.value=cateclientgory.image},E=o=>{m.value=null,u.value=null,B.post(`/update-client/${o}`,i),newClinet.reset(),document.getElementById("editClient").$vb.modal.hide()};return(o,a)=>{const y=R("vb-is");return d(),_(N,null,[s(l(Y),{title:"Clients"}),s(T,null,{default:r(()=>{var w;return[e("section",P,[e("div",q,[e("div",Z,[e("div",z,[e("p",G,"Total "+p((w=c.clients)==null?void 0:w.length)+" Clients",1),e("div",{class:"d-flex align-items-center justify-content-between"},[H,e("button",{class:"button-primary",onClick:D},[J,g(" Add New Client ")])])]),e("table",K,[Q,e("tbody",null,[(d(!0),_(N,null,F(c.clients,t=>{var C;return d(),_("tr",{key:t.id},[e("td",null,[e("img",{src:t==null?void 0:t.image,alt:"",width:"80"},null,8,W)]),e("td",null,[s(l(U),{href:"/",class:"text-dark"},{default:r(()=>[g(p(t==null?void 0:t.name),1)]),_:2},1024)]),e("td",null,p(l(O)((C=o.category)==null?void 0:C.created_at).format("DD MMMM YYYY")),1),e("td",null,[e("div",X,[e("button",{onClick:xe=>M(t),class:"edit",style:{width:"30px",height:"30px"}},te,8,ee),s(l(U),{href:`/brands/${t.id}`,method:"delete",class:"delete","preserve-scroll":"",style:{width:"30px",height:"30px"}},{default:r(()=>[ae]),_:2},1032,["href"])])])])}),128))])]),le])])]),$((d(),V(j,{id:"addClient"},{default:r(()=>[e("div",null,[oe,e("form",{onSubmit:A(L,["prevent"])},[e("div",ie,[s(h,{for:"name",value:"Client Name",class:"d-block mb-2"}),s(b,{class:"bt-border-color w-100 p-2",modelValue:l(n).name,"onUpdate:modelValue":a[0]||(a[0]=t=>l(n).name=t)},null,8,["modelValue"]),s(f,{message:c.errors.name},null,8,["message"])]),e("div",ne,[s(h,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",de,[e("label",re,[ce,me,s(b,{type:"file",id:"category-image",onChange:v})]),e("div",ue,[m.value?(d(),_("img",{key:0,src:m.value,alt:""},null,8,_e)):I("",!0)])]),s(f,{message:c.errors.image},null,8,["message"])]),s(S,{type:"submit",class:"w-100",disabled:l(n).processing},{default:r(()=>[g("Add Client")]),_:1},8,["disabled"])],32)])]),_:1})),[[y,void 0,"modal"]]),$((d(),V(j,{id:"editClient"},{default:r(()=>[e("div",ge,[he,e("form",{onSubmit:a[2]||(a[2]=A(t=>E(l(i).id),["prevent"]))},[e("div",be,[s(h,{for:"name",value:"Client Name",class:"d-block mb-2"}),s(b,{class:"bt-border-color w-100 p-2",modelValue:l(i).name,"onUpdate:modelValue":a[1]||(a[1]=t=>l(i).name=t)},null,8,["modelValue"]),s(f,{message:c.errors.name},null,8,["message"])]),e("div",fe,[s(h,{for:"name",value:"Add Image",class:"d-block mb-2"}),e("div",pe,[e("label",ve,[ye,we,s(b,{type:"file",id:"category-image",onChange:v})]),e("div",Ce,[u.value?(d(),_("img",{key:0,src:u.value,alt:""},null,8,ke)):I("",!0)])]),s(f,{message:c.errors.image},null,8,["message"])]),s(S,{type:"submit",class:"w-100",disabled:l(n).processing},{default:r(()=>[g("Submit Client")]),_:1},8,["disabled"])],32)])]),_:1})),[[y,void 0,"modal"]])]}),_:1})],64)}}};export{Se as default};
